{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Router from 'next/router';\nimport { hasRoom, getRoomSize, getCharacters } from \"../../../components/functions/fetch\";\nimport { charatersImageMap, charatersColorMap } from \"../../../components/data\";\n\nclass RoomPage extends React.Component {\n  static getInitialProps({\n    query\n  }) {\n    return {\n      id: query.id,\n      name: query.name,\n      character: query.character\n    };\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      roomSize: -1,\n      charactersJson: []\n    };\n  }\n\n  componentDidMount() {\n    //if room id is not there then return to menu\n    hasRoom(this.props.id).then(data => {\n      console.log(data.data);\n\n      if (!data.data) {\n        alert(\"Room does not exist. Please do not alter the url\");\n        Router.push('/room/player/info');\n      }\n    });\n  }\n\n  async fetchRoomSize(id) {\n    await getRoomSize(id).then(res => {\n      console.log(res);\n      this.setState({\n        roomSize: res.data\n      });\n      return res.data;\n    }).catch(err => {\n      console.log(\"Error\");\n      console.log(err);\n      return err;\n    });\n  }\n\n  async fetchCharacters(id) {\n    await getCharacters(id).then(res => {\n      console.log(res.data);\n      var charactersJson = [];\n\n      for (var prop in res.data) {\n        charactersJson.push([prop, res.data[prop]]);\n      }\n\n      this.setState({\n        charactersJson: charactersJson\n      });\n      return res.data;\n    }).catch(err => {\n      console.log(\"Error\");\n      console.log(err);\n      return err;\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: \"room\",\n      children: [/*#__PURE__*/_jsxs(\"h1\", {\n        style: {\n          color: charatersColorMap.get(this.props.character)\n        },\n        children: [this.props.character, \" \"]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: charatersImageMap.get(this.props.character)\n      }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsxs(\"div\", {\n        children: [\"Name: \", this.props.name, \" \"]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        children: [\"Room number: \", this.props.id]\n      })]\n    });\n  }\n\n}\n\nexport default RoomPage;","map":null,"metadata":{},"sourceType":"module"}